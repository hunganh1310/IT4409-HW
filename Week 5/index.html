<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">`
  <title>Kết quả học tập - 2024.1 & 2024.2</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #f0f4f8;
      color: #222;
      margin: 40px;
    }

    h1 {
      text-align: center;
      color: #003366;
    }

    .info {
      background: white;
      padding: 15px 25px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }

    .info p {
      margin: 5px 0;
      font-size: 16px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    th, td {
      padding: 10px 15px;
      border-bottom: 1px solid #ddd;
      text-align: center;
    }

    th {
      background: #004c99;
      color: white;
    }

    tr:hover {
      background: #f2f6ff;
    }

    .buttons {
      text-align: center;
      margin: 25px 0;
    }

    button {
      margin: 5px;
      padding: 10px 18px;
      border: none;
      background: #004c99;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      font-size: 15px;
      transition: 0.3s;
    }

    button:hover {
      background: #0066cc;
    }

    .highlight-A {
      background-color: #c1f0c1 !important;
    }

    .highlight-F {
      background-color: #333 !important;
      color: white !important;
    }

    .gpa-result {
      text-align: center;
      font-size: 18px;
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>KẾT QUẢ HỌC TẬP</h1>

  <div class="info">
    <p><strong>Họ tên:</strong> Tô Hùng Anh</p>
    <p><strong>MSSV:</strong> 20225164</p>
    <p><strong>Email:</strong> anh.th225164@sis.hust.edu.vn</p>
  </div>

  <table id="resultTable">
    <thead>
      <tr>
        <th>Học kỳ</th>
        <th>Mã học phần</th>
        <th>Tên môn học</th>
        <th>Số tín chỉ</th>
        <th>Điểm chữ</th>
        <th>Tên tiếng Anh</th>
      </tr>
    </thead>
    <tbody>
      <!-- 2024.2 -->
      <tr><td>2024.2</td><td>SSH1141</td><td>Lịch sử Đảng cộng sản Việt Nam</td><td>2</td><td>A</td><td>History of Vietnamese Communist Party</td></tr>
      <tr><td>2024.2</td><td>IT4651</td><td>Thiết kế và triển khai mạng IP</td><td>3</td><td>A+</td><td>IP Network Design and Implementation</td></tr>
      <tr><td>2024.2</td><td>IT4060</td><td>Lập trình mạng</td><td>2</td><td>A</td><td>Network Programming</td></tr>
      <tr><td>2024.2</td><td>IT4015</td><td>Nhập môn an toàn thông tin</td><td>3</td><td>B+</td><td>Introduction to Information Security</td></tr>
      <tr><td>2024.2</td><td>IT3421</td><td>Điện tử cho CNTT</td><td>2</td><td>A</td><td>Electronics for Information Technology</td></tr>
      <tr><td>2024.2</td><td>IT3170</td><td>Thuật toán ứng dụng</td><td>2</td><td>D</td><td>Applied Algorithms</td></tr>
      <tr><td>2024.2</td><td>IT3120</td><td>Phân tích và thiết kế hệ thống</td><td>2</td><td>A</td><td>System Analysis and Design</td></tr>
      <tr><td>2024.2</td><td>IT3070</td><td>Nguyên lý hệ điều hành</td><td>3</td><td>A</td><td>Operating Systems</td></tr>
      <tr><td>2024.2</td><td>IT2030</td><td>Technical Writing and Presentation</td><td>3</td><td>A</td><td>Technical Writing and Presentation</td></tr>
      <!-- 2024.1 -->
      <tr><td>2024.1</td><td>IT4785</td><td>Phát triển ứng dụng cho thiết bị di động</td><td>2</td><td>C</td><td>Mobile Programming</td></tr>
      <tr><td>2024.1</td><td>IT4593</td><td>Nhập môn kỹ thuật truyền thông</td><td>2</td><td>F</td><td>Introduction to Communication Engineering</td></tr>
      <tr><td>2024.1</td><td>IT4172</td><td>Xử lý tín hiệu</td><td>2</td><td>A</td><td>Signal Processing</td></tr>
      <tr><td>2024.1</td><td>IT3180</td><td>Nhập môn công nghệ phần mềm</td><td>3</td><td>C</td><td>Introduction to Software Engineering</td></tr>
      <tr><td>2024.1</td><td>IT3150</td><td>Project I</td><td>2</td><td>A+</td><td>Project I</td></tr>
      <tr><td>2024.1</td><td>IT3090</td><td>Cơ sở dữ liệu</td><td>3</td><td>C</td><td>Database</td></tr>
      <tr><td>2024.1</td><td>IT3080</td><td>Mạng máy tính</td><td>3</td><td>A+</td><td>Computer Networks</td></tr>
      <tr><td>2024.1</td><td>IT3040</td><td>Kỹ thuật lập trình</td><td>2</td><td>B</td><td>Programming Techniques</td></tr>
      <tr><td>2024.1</td><td>IT3020</td><td>Toán rời rạc</td><td>3</td><td>C+</td><td>Discrete Mathematics</td></tr>
      <tr><td>2024.1</td><td>FL1132</td><td>Tiếng Anh cơ sở 2</td><td>0</td><td>R</td><td>General English 2</td></tr>
      <tr><td>2024.1</td><td>FL1131</td><td>Tiếng Anh cơ sở 1</td><td>0</td><td>R</td><td>General English 1</td></tr>
    </tbody>
  </table>

  <div class="buttons">
    <button onclick="highlight()">Highlight</button>
    <button onclick="calculateGPA()">GPA</button>
    <button onclick="filterA()">Filter</button>
    <button onclick="sortByGrade()">Sort</button>
  </div>

  <div class="gpa-result" id="gpaResult"></div>

  <script>
    function highlight() {
      const rows = document.querySelectorAll("#resultTable tbody tr");
      rows.forEach(row => {
        const grade = row.cells[4].textContent.trim();
        row.classList.remove("highlight-A", "highlight-F");
        if (grade === "A" || grade === "A+") row.classList.add("highlight-A");
        if (grade === "F") row.classList.add("highlight-F");
      });
    }

    function calculateGPA() {
      const rows = document.querySelectorAll("#resultTable tbody tr");
      const gradePoints = { "A+": 4.0, "A": 3.8, "B+": 3.5, "B": 3.0, "C+": 2.5, "C": 2.0, "D": 1.0, "F": 0.0 };
      let semesters = { "2024.1": { totalPoints: 0, totalCredits: 0 }, "2024.2": { totalPoints: 0, totalCredits: 0 } };

      rows.forEach(row => {
        const sem = row.cells[0].textContent.trim();
        const credits = parseFloat(row.cells[3].textContent);
        const grade = row.cells[4].textContent.trim();
        if (!gradePoints.hasOwnProperty(grade)) return;
        semesters[sem].totalPoints += gradePoints[grade] * credits;
        semesters[sem].totalCredits += credits;
      });

      let result = "";
      for (const sem in semesters) {
        const s = semesters[sem];
        if (s.totalCredits > 0)
          result += `GPA ${sem}: ${(s.totalPoints / s.totalCredits).toFixed(2)}<br>`;
      }
      document.getElementById("gpaResult").innerHTML = result;
    }

    function filterA() {
      const rows = document.querySelectorAll("#resultTable tbody tr");
      rows.forEach(row => {
        const grade = row.cells[4].textContent.trim();
        row.style.display = (grade === "A" || grade === "A+") ? "" : "none";
      });
    }

    function sortByGrade() {
      const tbody = document.querySelector("#resultTable tbody");
      const rows = Array.from(tbody.querySelectorAll("tr"));
      const gradeOrder = { "A+": 1, "A": 2, "B+": 3, "B": 4, "C+": 5, "C": 6, "D": 7, "F": 8, "R": 9 };
      rows.sort((a, b) => (gradeOrder[a.cells[4].textContent.trim()] || 99) - (gradeOrder[b.cells[4].textContent.trim()] || 99));
      tbody.innerHTML = "";
      rows.forEach(row => tbody.appendChild(row));
    }
  </script>
</body>
</html>
